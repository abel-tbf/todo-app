import{R as h,d as T,r as f,a as V,j as c,e as F,t as U,g as w}from"./index-Deu4AJ7x.js";function S(){return S=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var t in l)({}).hasOwnProperty.call(l,t)&&(i[t]=l[t])}return i},S.apply(null,arguments)}function M(i,o){if(i==null)return{};var l={};for(var t in i)if({}.hasOwnProperty.call(i,t)){if(o.indexOf(t)>=0)continue;l[t]=i[t]}return l}function D(i,o){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,t){return l.__proto__=t,l},D(i,o)}function _(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,D(i,o)}function G(i,o){return i.classList?!!o&&i.classList.contains(o):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+o+" ")!==-1}function W(i,o){i.classList?i.classList.add(o):G(i,o)||(typeof i.className=="string"?i.className=i.className+" "+o:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+o))}function L(i,o){return i.replace(new RegExp("(^|\\s)"+o+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function X(i,o){i.classList?i.classList.remove(o):typeof i.className=="string"?i.className=L(i.className,o):i.setAttribute("class",L(i.className&&i.className.baseVal||"",o))}const I={disabled:!1},O=h.createContext(null);var $=function(o){return o.scrollTop},b="unmounted",m="exited",x="entering",N="entered",R="exiting",v=function(i){_(o,i);function o(t,n){var e;e=i.call(this,t,n)||this;var r=n,s=r&&!r.isMounting?t.enter:t.appear,a;return e.appearStatus=null,t.in?s?(a=m,e.appearStatus=x):a=N:t.unmountOnExit||t.mountOnEnter?a=b:a=m,e.state={status:a},e.nextCallback=null,e}o.getDerivedStateFromProps=function(n,e){var r=n.in;return r&&e.status===b?{status:m}:null};var l=o.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(n){var e=null;if(n!==this.props){var r=this.state.status;this.props.in?r!==x&&r!==N&&(e=x):(r===x||r===N)&&(e=R)}this.updateStatus(!1,e)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var n=this.props.timeout,e,r,s;return e=r=s=n,n!=null&&typeof n!="number"&&(e=n.exit,r=n.enter,s=n.appear!==void 0?n.appear:r),{exit:e,enter:r,appear:s}},l.updateStatus=function(n,e){if(n===void 0&&(n=!1),e!==null)if(this.cancelNextCallback(),e===x){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this);r&&$(r)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===m&&this.setState({status:b})},l.performEnter=function(n){var e=this,r=this.props.enter,s=this.context?this.context.isMounting:n,a=this.props.nodeRef?[s]:[T.findDOMNode(this),s],u=a[0],p=a[1],d=this.getTimeouts(),E=s?d.appear:d.enter;if(!n&&!r||I.disabled){this.safeSetState({status:N},function(){e.props.onEntered(u)});return}this.props.onEnter(u,p),this.safeSetState({status:x},function(){e.props.onEntering(u,p),e.onTransitionEnd(E,function(){e.safeSetState({status:N},function(){e.props.onEntered(u,p)})})})},l.performExit=function(){var n=this,e=this.props.exit,r=this.getTimeouts(),s=this.props.nodeRef?void 0:T.findDOMNode(this);if(!e||I.disabled){this.safeSetState({status:m},function(){n.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:R},function(){n.props.onExiting(s),n.onTransitionEnd(r.exit,function(){n.safeSetState({status:m},function(){n.props.onExited(s)})})})},l.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(n,e){e=this.setNextCallback(e),this.setState(n,e)},l.setNextCallback=function(n){var e=this,r=!0;return this.nextCallback=function(s){r&&(r=!1,e.nextCallback=null,n(s))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},l.onTransitionEnd=function(n,e){this.setNextCallback(e);var r=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this),s=n==null&&!this.props.addEndListener;if(!r||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],u=a[0],p=a[1];this.props.addEndListener(u,p)}n!=null&&setTimeout(this.nextCallback,n)},l.render=function(){var n=this.state.status;if(n===b)return null;var e=this.props,r=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var s=M(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return h.createElement(O.Provider,{value:null},typeof r=="function"?r(n,s):h.cloneElement(h.Children.only(r),s))},o}(h.Component);v.contextType=O;v.propTypes={};function C(){}v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:C,onEntering:C,onEntered:C,onExit:C,onExiting:C,onExited:C};v.UNMOUNTED=b;v.EXITED=m;v.ENTERING=x;v.ENTERED=N;v.EXITING=R;var z=function(o,l){return o&&l&&l.split(" ").forEach(function(t){return W(o,t)})},j=function(o,l){return o&&l&&l.split(" ").forEach(function(t){return X(o,t)})},k=function(i){_(o,i);function o(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t=i.call.apply(i,[this].concat(e))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(s,a){var u=t.resolveArguments(s,a),p=u[0],d=u[1];t.removeClasses(p,"exit"),t.addClass(p,d?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(s,a)},t.onEntering=function(s,a){var u=t.resolveArguments(s,a),p=u[0],d=u[1],E=d?"appear":"enter";t.addClass(p,E,"active"),t.props.onEntering&&t.props.onEntering(s,a)},t.onEntered=function(s,a){var u=t.resolveArguments(s,a),p=u[0],d=u[1],E=d?"appear":"enter";t.removeClasses(p,E),t.addClass(p,E,"done"),t.props.onEntered&&t.props.onEntered(s,a)},t.onExit=function(s){var a=t.resolveArguments(s),u=a[0];t.removeClasses(u,"appear"),t.removeClasses(u,"enter"),t.addClass(u,"exit","base"),t.props.onExit&&t.props.onExit(s)},t.onExiting=function(s){var a=t.resolveArguments(s),u=a[0];t.addClass(u,"exit","active"),t.props.onExiting&&t.props.onExiting(s)},t.onExited=function(s){var a=t.resolveArguments(s),u=a[0];t.removeClasses(u,"exit"),t.addClass(u,"exit","done"),t.props.onExited&&t.props.onExited(s)},t.resolveArguments=function(s,a){return t.props.nodeRef?[t.props.nodeRef.current,s]:[s,a]},t.getClassNames=function(s){var a=t.props.classNames,u=typeof a=="string",p=u&&a?a+"-":"",d=u?""+p+s:a[s],E=u?d+"-active":a[s+"Active"],y=u?d+"-done":a[s+"Done"];return{baseClassName:d,activeClassName:E,doneClassName:y}},t}var l=o.prototype;return l.addClass=function(n,e,r){var s=this.getClassNames(e)[r+"ClassName"],a=this.getClassNames("enter"),u=a.doneClassName;e==="appear"&&r==="done"&&u&&(s+=" "+u),r==="active"&&n&&$(n),s&&(this.appliedClasses[e][r]=s,z(n,s))},l.removeClasses=function(n,e){var r=this.appliedClasses[e],s=r.base,a=r.active,u=r.done;this.appliedClasses[e]={},s&&j(n,s),a&&j(n,a),u&&j(n,u)},l.render=function(){var n=this.props;n.classNames;var e=M(n,["classNames"]);return h.createElement(v,S({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(h.Component);k.defaultProps={classNames:""};k.propTypes={};function H(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function P(i,o){var l=function(e){return o&&f.isValidElement(e)?o(e):e},t=Object.create(null);return i&&f.Children.map(i,function(n){return n}).forEach(function(n){t[n.key]=l(n)}),t}function q(i,o){i=i||{},o=o||{};function l(p){return p in o?o[p]:i[p]}var t=Object.create(null),n=[];for(var e in i)e in o?n.length&&(t[e]=n,n=[]):n.push(e);var r,s={};for(var a in o){if(t[a])for(r=0;r<t[a].length;r++){var u=t[a][r];s[t[a][r]]=l(u)}s[a]=l(a)}for(r=0;r<n.length;r++)s[n[r]]=l(n[r]);return s}function g(i,o,l){return l[o]!=null?l[o]:i.props[o]}function B(i,o){return P(i.children,function(l){return f.cloneElement(l,{onExited:o.bind(null,l),in:!0,appear:g(l,"appear",i),enter:g(l,"enter",i),exit:g(l,"exit",i)})})}function J(i,o,l){var t=P(i.children),n=q(o,t);return Object.keys(n).forEach(function(e){var r=n[e];if(f.isValidElement(r)){var s=e in o,a=e in t,u=o[e],p=f.isValidElement(u)&&!u.props.in;a&&(!s||p)?n[e]=f.cloneElement(r,{onExited:l.bind(null,r),in:!0,exit:g(r,"exit",i),enter:g(r,"enter",i)}):!a&&s&&!p?n[e]=f.cloneElement(r,{in:!1}):a&&s&&f.isValidElement(u)&&(n[e]=f.cloneElement(r,{onExited:l.bind(null,r),in:u.props.in,exit:g(r,"exit",i),enter:g(r,"enter",i)}))}}),n}var Q=Object.values||function(i){return Object.keys(i).map(function(o){return i[o]})},Y={component:"div",childFactory:function(o){return o}},A=function(i){_(o,i);function o(t,n){var e;e=i.call(this,t,n)||this;var r=e.handleExited.bind(H(e));return e.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},e}var l=o.prototype;return l.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},l.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(n,e){var r=e.children,s=e.handleExited,a=e.firstRender;return{children:a?B(n,s):J(n,r,s),firstRender:!1}},l.handleExited=function(n,e){var r=P(this.props.children);n.key in r||(n.props.onExited&&n.props.onExited(e),this.mounted&&this.setState(function(s){var a=S({},s.children);return delete a[n.key],{children:a}}))},l.render=function(){var n=this.props,e=n.component,r=n.childFactory,s=M(n,["component","childFactory"]),a=this.state.contextValue,u=Q(this.state.children).map(r);return delete s.appear,delete s.enter,delete s.exit,e===null?h.createElement(O.Provider,{value:a},u):h.createElement(O.Provider,{value:a},h.createElement(e,s,u))},o}(h.Component);A.propTypes={};A.defaultProps=Y;function K({todos:i}){const o=V(),[l,t]=f.useState(null),[n,e]=f.useState(""),r=(a,u)=>{t(a),e(u)},s=a=>{o(w({id:a,title:n})),t(null),e("")};return c.jsxs("div",{children:[c.jsx("h2",{children:"My Todos"}),i.length===0?c.jsx("p",{children:"No todos left. Add some tasks!"}):c.jsx(A,{component:"ul",children:i.map(a=>c.jsx(k,{timeout:500,classNames:"fade",children:c.jsx("li",{className:a.completed?"completed":"",children:l===a.id?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:n,onChange:u=>e(u.target.value),onKeyPress:u=>{u.key==="Enter"&&s(a.id)}}),c.jsx("button",{onClick:()=>s(a.id),children:"Save"}),c.jsx("button",{onClick:()=>t(null),children:"Cancel"})]}):c.jsxs(c.Fragment,{children:[a.title,c.jsx("button",{onClick:()=>o(F(a.id)),children:"Delete"}),c.jsx("button",{className:"complete",onClick:()=>o(U(a.id)),children:a.completed?"Undo":"Complete"}),c.jsx("button",{onClick:()=>r(a.id,a.title),children:"Edit"})]})},a.id)},a.id))})]})}export{K as default};
